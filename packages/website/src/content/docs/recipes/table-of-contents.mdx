---
title: Table of Contents
tags: [component, markdown]
description: How to create a table of contents based on headings from a Markdown file.
---

## Starlight

Starlight already has this feature, so no additional work is required. However, you can [override the default one](https://starlight.astro.build/reference/overrides/#tableofcontents).

## "Snake" Table of Contents

See:

- https://kld.dev/building-table-of-contents/
- https://kld.dev/toc-animation/

### Implementation

Check out the source code to see how to implement it:

- [src/components/TOC.astro](https://github.com/stereobooster/astro-digital-garden/tree/main/packages/website/src/components/TOC.astro)
- [src/components/TOCHelper.ts](https://github.com/stereobooster/astro-digital-garden/tree/main/packages/website/src/components/TOCHelper.ts)
- [src/components/TOCHeading.astro](https://github.com/stereobooster/astro-digital-garden/tree/main/packages/website/src/components/TOCHeading.astro)
- [src/toc.js](https://github.com/stereobooster/astro-digital-garden/tree/main/packages/website/src/components/toc.js)

### TODO:

- [ ] Fix bug: it crashes if there are missing header levels, like `h4` directly under `h2`.
- [ ] Fix "snake" styles.

### Starlight-Specific Config

import { Steps } from "@astrojs/starlight/components";

<Steps>
1.  Create `TableOfContents` component

    ```astro
    // src/components/TableOfContents.astro
    ---
    import type { Props } from "@astrojs/starlight/props";
    import TOC from "./TOC.astro";
    ---

    <TOC {...Astro.props} />
    ```

2. Configure Astro

   ```js {6}
   // astro.config.mjs
   export default defineConfig({
     integrations: [
       starlight({
         components: {
           TableOfContents: "./src/components/TableOfContents.astro",
         },
       }),
     ],
   });
   ```

</Steps>
